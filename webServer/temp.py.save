import os
import time
import os.path

print('kWh meter...')

path = '/home/pi/projects/powerMonitoring/logs/'                                                     │  File "/usr/lib/python3.7/wsgiref/handlers.py", line 274, in writeileTS = time.strftime("%Y-%m")                                                                      │    self.send_headers()
tfile = path + 'energy_' + fileTS + '.log'                                                           │  File "/usr/lib/python3.7/wsgiref/handlers.py", line 331, in send_headers
if os.path.isfile(tfile):                                                                            │    if not self.origin_server or self.client_is_modern():
    tfile = open(tfile)                                                                              │  File "/usr/lib/python3.7/wsgiref/handlers.py", line 344, in client_is_modern
    lines = tfile.readlines()                                                                        │    return self.environ['SERVER_PROTOCOL'].upper() != 'HTTP/0.9'
    if lines:                                                                                        │TypeError: 'NoneType' object is not subscriptable
        first_line = str(lines[0].rstrip())                                                          │
        last_line = str(lines[-1].rstrip())                                                          │During handling of the above exception, another exception occurred:
    tfile.close()                                                                                    │
    first_line = first_line.split(',')                                                               │Traceback (most recent call last):
    last_line  = last_line.split(',')                                                                │  File "/usr/lib/python3.7/socketserver.py", line 316, in _handle_request_noblock
    print(first_line)                                                                                │    self.process_request(request, client_address)
    print(last_line)                                                                                 │  File "/usr/lib/python3.7/socketserver.py", line 347, in process_request
    kWh = last_line[1]                                                                               │    self.finish_request(request, client_address)
    netuse = last_line[3]                                                                            │  File "/usr/lib/python3.7/socketserver.py", line 360, in finish_request
    pwr = last_line[2]                                                                               │    self.RequestHandlerClass(request, client_address, self)
else:                                                                                                │  File "/usr/lib/python3.7/socketserver.py", line 720, in __init__
    kWh = 0                                                                                          │    self.handle()
        netuse = 0                                                                                       │  File "/usr/lib/python3.7/wsgiref/simple_server.py", line 133, in handle
        pwr = 0    
